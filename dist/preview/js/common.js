"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var debounce=function(o,i){var s=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];clearTimeout(s),s=setTimeout(function(){return o.apply(null,t)},i)}},delay=function(t){return new Promise(function(e){return setTimeout(e,t)})},isTouchDevices="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,isMobilePlatform=/iPhone|iPad|Android|blackberry|windows phone|IEMobile|Opera Mini/i.test(navigator.userAgent),isPlatformIOS=/iPhone|iPad/i.test(navigator.userAgent),imageReady=function(e,t){imagesLoaded(e).on("always",t)},ThemeStyle=function(){function o(e,t){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,o),this.theme=document.documentElement.dataset.theme,this.props={a:e,b:t,cssVariable:n},this.setStyle()}return _createClass(o,[{key:"getStyle",value:function(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}},{key:"setStyle",value:function(){var e=this.props,t=e.a,n=e.b,o=e.cssVariable;if(void 0!==n&&""!==n){if("light"===this.theme)return o?this.getStyle(t):t;if("dark"===this.theme)return o?this.getStyle(n):n}return void 0!==n&&""!==n||o?this.getStyle(t):t}}]),o}(),themeStyle=new ThemeStyle,throttle=function(o,i){var s=null;return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];null===s&&(s=setTimeout(function(){o.apply(null,t),s=null},i))}},triggerEvent=function(e,t){var n,o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];n="click"===e?new MouseEvent("click",{bubbles:o,cancelable:!0,view:window}):new Event(e,{bubbles:o,cancelable:!0}),t.dispatchEvent(n)},Header=function(){function e(){_classCallCheck(this,e),this.onInit()}return _createClass(e,[{key:"onInit",value:function(){console.log("header")}}]),e}(),AppComponent=function(){function e(){_classCallCheck(this,e),this.onReady=this.onReady.bind(this),this.onImageReady=this.onImageReady.bind(this),this.setDetected(),this.init()}return _createClass(e,[{key:"setDetected",value:function(){isTouchDevices&&document.documentElement.classList.add("is-touch"),isMobilePlatform&&document.documentElement.classList.add("is-mobile-platform"),isPlatformIOS&&document.documentElement.classList.add("ios")}},{key:"onImageReady",value:function(){document.body.classList.add("load")}},{key:"onReady",value:function(){imageReady(document.body,this.onImageReady),new Header}},{key:"init",value:function(){document.addEventListener("DOMContentLoaded",this.onReady)}},{key:"dispose",value:function(){}}]),e}();$(void new AppComponent);var Demo=function(){function e(){_classCallCheck(this,e),this.nodes={panel:document.querySelector(".demo-panel"),toggle:document.querySelector(".demo-toggle"),toggleClose:document.querySelector(".demo-panel__close")},this.show=this.show.bind(this),this.close=this.close.bind(this),this.escape=this.escape.bind(this),this.onInit()}return _createClass(e,[{key:"show",value:function(e){var t=this.nodes.panel;e.preventDefault(),t.classList.add("show")}},{key:"close",value:function(e){var t=this.nodes.panel;e.preventDefault(),t.classList.remove("show")}},{key:"escape",value:function(e){var t=this.nodes.panel;27===e.keyCode&&t.classList.contains("show")&&t.classList.remove("show")}},{key:"onInit",value:function(){var e=this.nodes,t=e.toggle,n=e.toggleClose;t.addEventListener("click",this.show),n.addEventListener("click",this.close),document.addEventListener("keyup",this.escape)}},{key:"dispose",value:function(){}}]),e}();$(function(){new Demo});